<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kitchen Dashboard</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app">
    <header>
      <h1>Kitchen Dashboard</h1>
      <div class="top-row">
        <div id="clock"></div>
        <div>
          <button id="settingsBtn">Settings</button>
          <button id="refreshBtn">Refresh</button>
        </div>
      </div>
    </header>

    <nav class="nav">
      <button data-view="dashboard" class="nav-btn">Dashboard</button>
      <button data-view="recipe" class="nav-btn">Today's Recipe</button>
      <button data-view="grocery" class="nav-btn">Grocery (Week)</button>
      <button data-view="calendar" class="nav-btn">Calendar</button>
      <button data-view="prep" class="nav-btn">Prep Ahead</button>
    </nav>

    <main id="views">
      <section id="view-dashboard" class="view active">
        <div id="todayRecipeSmall"></div>
        <div id="prepNowSmall"></div>
        <div id="calendarSmall"></div>
      </section>

      <section id="view-recipe" class="view">
        <button class="back">Back</button>
        <h2>Today's Recipe</h2>
        <div id="recipeFull"></div>
      </section>

      <section id="view-grocery" class="view">
        <button class="back">Back</button>
        <h2>Weekly Grocery List</h2>
        <div id="groceryControls">
          <button id="generateFromRecipes">Generate from recipes</button>
          <button id="clearChecked">Clear checked</button>
        </div>
        <ul id="groceryList"></ul>
      </section>

      <section id="view-calendar" class="view">
        <button class="back">Back</button>
        <h2>Calendar (next 7 days)</h2>
        <div id="calendarEvents"></div>
      </section>

      <section id="view-prep" class="view">
        <button class="back">Back</button>
        <h2>Prep Ahead</h2>
        <div id="prepList"></div>
      </section>
    </main>

    <footer>
      <small>Offline-first. Recipes editable in Google Sheet.</small>
    </footer>
  </div>

  <!-- Settings modal -->
  <div id="settingsModal" class="modal hidden">
    <div class="modal-body">
      <h3>Settings</h3>
      <label>Apps Script Base URL:
        <input id="baseUrl" placeholder="https://script.google.com/macros/s/XXX/exec" />
      </label>
      <label>API Token:
        <input id="apiToken" placeholder="secret-token" />
      </label>
      <div class="actions">
        <button id="saveSettings">Save</button>
        <button id="closeSettings">Close</button>
      </div>
      <p class="note">Deploy Apps Script as a web app (Execute as: Me, Who has access: Anyone) and set the token in Script Properties.</p>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
